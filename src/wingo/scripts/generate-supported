#!/usr/bin/env python2

inEwmh = False
supported = []
for line in open('COMPLIANCE'):
    line = line.strip()
    if len(line) == 0:
        continue
    if line.startswith('@@@@@'):
        if inEwmh:
            break
        inEwmh = True
        continue
    if not inEwmh:
        continue
    if line[0] not in ('+', '/'):
        continue
    supported.append(line.split()[1])

contents = '''
package main

// This file is automatically generated with scripts/generate-supported
var ewmhSupported = []string{
    %s
}
''' % '\n\t'.join(map(lambda s: '"%s",' % s, supported))

print contents.strip()

